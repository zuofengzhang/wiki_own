---
title: 虐菜
layout: post
date: 2016-05-20 12:26:00
category: Java
tags:
 - Java
 - Job

share: false
comments: true
---



其他整理

1. [腾讯](/interview/2016-09-26.html)



# 亲历

## 1. 众安在线

1. 数据库 锁
2. ConcurrentHashMap   参数设定：装载因子 初始容量
3. 队列
4. Redis集群
5. [RPC][a-rpc] 
6. SOA
7. Memcached挂掉
8. Spring AOP事务 传递
9. 概要设计
10. HTTP连接数过多的原因
11. 分布式
12. Web Service（SOAP）
13. CORBAR

## 2. 平安科技

1. MySQL默认连接数
2. MySQL默认引擎
3. Spring的设计模式
4. Spring的IOC
5. MyBatis update 空值问题的解决
6. MySQL按指定的格式输出当前时间
7. 软件工程中自己遇到的问题
8. Spring注入的方式
9. Spring注入的注解

## 3. 平安财险

1.  线程锁: 信号量
2.  线程池
3.  ClassLoader分类
4.  JVM分区和垃圾回收
5.  卡夫卡
6.  集合 ConcurrentHashMap

##  4. 拉卡拉

1. 场景1： 多个用户同时申请一个Email账号，如何避免冲突

2. Redis与Memcached唯一键

3. 数据库锁 表锁和字段锁

4. 线程如何停止 为什么不用stop
   > interrupt() interrupted() isInterrupted() 或者使用ReentrantLock.lockInterruptly的自取消

5. 线程同步是什么？有多少实现方案 

   > Atomic class
   >
   > volatile
   >
   > synchronized
   >
   > Lock: ReentrantLock、ReadAndWriteLock
   >
   > ContDownLatch
   >
   > Semaphore
   >
   > ThreadLocal  
   >
   > CopyOnWrite MCC

6. 线程池配置 溢出配置

7. 介绍一下SOA

8. 数据库的优化

9. 数据库唯一键的使用

10. Oracle in语句优化

11. in与Exist区别

12. 介绍一下NoSQL

13. 高并发的处理

14. 框架解耦 高内聚低耦合 MVC 接口实现分离 面向对象6个法则

15. JVM分区及其作用

16. 介绍Concurrent包

17. web应用调优的过程

18. 什么时候启动Full GC

19. 消息处理机制

## 5. 房多多

1. 栈帧是什么 里面都保存什么数据
2. JVM各个分区与线程间的关系
3. 高并发处理
4. IOC的流程与设计模式
5. Spring AOP为什么不全部使用CGLIB
6. NIO
7. IO四种模式


总监1

1. 设计一个模块的过程
2. 软件开发周期
3. 需求设计
4. 软件设计流程
5. UML的作用，及在软件设计流程中的使用
6. 如何拆分模块


## 6. 橘子理财

1. Tomcat数组添加元素的技巧
2. IOC的原理
3. Struts的不足
4. Spring的不足
5. 协同过滤算法
6. 高并发
7. MySQL集群
8. MySQL底层优化
9. WebService
10. AtomicLong
11. 死锁

## 7. 阿里

1. 简述一次JVM调优过程
2. 查看Linux进程与CPU使用情况的命令

   > ps: 当前运行线程的相关信息
   >
   >  top: 运行系统的动态实时视图
3. HTTPS与HTTP的区别
4. 双向加密算法
5. long序列化后的格式
6. ejb生命周期
7. Netty worder线程数量与配置
8. 内网穿透
9. 线程池原理
10. Collection中实现并发的方案
11. 类加载机制 为什么这么加载 rt.jar依赖哪些
12. HashMap 什么时候扩容，寻找的过程
13. JVM把对象的引用个数记录在哪里
14. 简述一次调优过程
15. Ngnix的分发原理
16. Java处理多线程 concurrent机制
17. Spring加载原理流程
18. JQuery框架
19. kafka与其他消息中间件的原理及比较
20. Redis与其他缓存比较
21. Java内存与回收
22. SpringMVC与Struts比较
23. 如何发起技术讨论与学习
24. MySQL注入实际场景分析解决
25. 多线程实际场景应用和遇到的问题
26. 内存泄露的类型结合实际场景分析解决
27. MyBatis中#与$的区别
28. Mybatis中事务的配置与使用场景
29. 面试官建议: 源码太枯燥，转为UML设计框架，结合设计模式挑感兴趣的学习。自己模拟一个场景应用情况。比较各种框架存在的问题，针对我们这种业务场景不复杂的情况。
30. volatile 工作内存和主内存 对象是怎么存储
31. Redis集群是怎么分发的
32. MySQL集群
33. Spring事务： 
   - A Service中的a方法调用B Service的b方法： 1. 是否会启动新的事务？2. 如果b方法异常是否会影响a方法的提交
   - A Service中的a方法调用b方法：1. 是否会启动新的事务？ 2. 如何启动新的事务？
34. 栈StackOverflowError和OOM异常及其原因
35. 栈帧的大小



## 8. Misfit

1. 从1千万的无序数组中选出最大的10个数的方法和时间复杂度
2. Struts2的请求action连接池的原理

## 9. 纷享销客

1. MySQL索引优化
2. MySQL参数配置
3. memcached支持的两种协议
4. 垃圾回收算法
5. redis性能 单线程
6. kafka优缺点
7. 数据库设计
8. [rpc][a-rpc]
9. 系统设计

## 10. 腾讯SNG
[详情][p-tencent-sng]

## 11. 其他
1. 如何判断线程卡死在哪里？
2. in 和 exist优化
3. select语句内部过程
4. Spring bean生命周期
1. [常见的RPC协议][a-rpc]
1. [Dubbo](/distributed/dubbo/base/) bug问题跟踪
1. [Dubbo](/distributed/dubbo/base/)服务降级
1. Http协议简化
1. xampp
1. Redis存储大规模数据
1. kafka的优势
1. cdn分发算法
1. redis主从远程互备
1. redis主从切换
1. Netty最大请求量
1. if和switch哪个效率高
1. SpringMVC 自定义参数映射：int映射为enum
1. sap cap

# 他山之石

## 百度

1. 详细询问了最近一份工作项目的架构和工作内容
2. MySQL InnoDB存储的文件结构
3. 索引树是如何维护的？
4. 数据库自增主键可能的问题
5. Redis的并发竞争问题如何解决
6. 了解Redis事务的CAS操作吗
7. 分析线程池的实现原理和线程的调度过程
8. 动态代理的几种方式
9. Spring AOP与IOC的实现
10. 为什么CGlib方式可以对接口实现代理？
11. RMI与代理模式
12. [Dubbo](/distributed/dubbo/base/)的底层实现原理和机制
13. 算法方面考察了一个简单的数组就地去重问题，用丢弃数组尾部元素的方式实现

## 百度金融

1. 分布式系统怎么做服务治理
2. 接口的幂等性的概念
3. Maven出现版本冲突如何解决
4. JVM垃圾回收机制，何时触发MinorGC等操作
5. 新生代和老生代的内存回收策略
6. Eden和Survivor的比例分配等
7. Synchronized和Lock的区别

## 阿里

1. 项目架构、Java基础、JVM、并发编程、数据库操作、中间件技术和[Dubbo](/distributed/dubbo/base/)服务治理框架
2. 编译优化
3. 数据库插入和删除一条数据的过程在底层是如何执行
4. 项目里配置了读写分离，也会比较深入的就实现方法和底层逻辑展开讨论。
5. JVM内存分代
6. Java 8的内存分代改进
7. 深入分析了Classloader，双亲委派机制
8. JVM的编译优化
9. 对Java内存模型的理解，以及其在并发中的应用
10. 指令重排序，内存栅栏等
11. HashMap的并发问题
12. 了解LinkedHashMap的应用吗
13. 在工作中遇到过哪些设计模式，是如何应用的


## 优酷土豆

1. Java基础，Spring原理，Java NIO，并发和集合框架
2. TCP/IP协议、长连接与短连接
3. 海量数据处理
4. MapReduce过程：比如Map阶段和Reduce阶段是如何进行的，Reduce阶段面试官希望分析给出一个多路归并的时间复杂度，用外排序的知识简单分析了一下，胜者树和败者树的优化，发现这里面的内容还挺多，深刻体会到有些知识点如果平时掌握的不够全面深刻，很难信手拈来

## 搜狐新闻

1. 服务治理和消息队列
2. 不定长字符串转为定长字符串
3. 考虑了唯一性、性能

## 58赶集

1. HTTP请求的报文格式
2. Spring的事务实现原理
3. 实际场景问题，大量用户数据如何在内存中排序和去重
4. 缓存机器增删如何对系统影响最小，一致性哈希的实现
5. Redis持久化的几种方式
6. Redis的缓存失效策略
7. 实际场景问题解决，典型的TOP K问题
8. 实际场景问题，海量登录日志如何排序和处理
9. SQL操作，主要是索引和聚合函数的应用
10. 三面面试官提问了一些优点和缺点的自我评价类问题

## 国美在线

1. Java基础，数据库，设计模式以及数据结构，要求写出B-Tree的节点结构，算法题目是一道等概率抽奖的题目，用蓄水池抽样算法解决了
2. SQL语句编写
3. MySQL的几种优化
4. Spring行级锁
5. Spring衍生的相关其他组件整理
6. RMI的几种协议和实现框架
7. BTree相关的操作
8. 数据库锁表的相关处理
9. 考察跳台阶问题

## 去哪儿网，口袋购物

1. Redis
2. 十五分钟实现一个LRUCache
3. 十万个ip段查找
4. 二分查找、二叉查找树
5. 项目架构，各种框架和中间件的设计实现

# 经验总结

1. 参考文献1

-   基础知识必须要扎实

    - 语言基础，计算机基础，算法和基本的Linux运维等
    - 针对Java语言，需要对集合类，并发包，IO/NIO，JVM，内存模型，泛型，异常，反射等都有比较深入的了解，最好是学习过部分源码。这些知识点都是相通的，在面试中也可以体现。
    - 从源码的角度，可以深入到哈希表的实现，拉链法以外的哈希碰撞解决方法，如何平衡内部数组保证哈希表的性能不会下降等；
    - 从线程安全的角度，可以扩展到HashTable、ConcurrentHashMap等其他的数据结构，可以比较两种不同的加锁方式，RetreenLock的实现和应用，继续深入可以考察Java内存模型，Volitale原语，内存栅栏等；横向扩展可以考察有序的Map结构如TreeMap、LinkedHashMap，继而考察红黑树，LRU缓存，HashMap的排序等知识。
    - Java方向的中高级职位，会比较重视对虚拟机的掌握，诸如类加载机制，内存模型等，这些在程序的优化和并发编程中都非常重要。
-   算法方面
            基本的排序和查找算法，对递归，分治等思想的掌握。如果算法基础不太好，推荐《编程珠玑》等，每一章都很经典。
-   计算机基础方面，比如TCP/IP协议和操作系统的知识也是必备的，这些都是大学计算机专业的基础课，也是做开发基本的素养。
-   系统设计能力
    - 设计模式，造轮子的能力，各种缓存和数据库应用，缓存，中间件技术，高并发和高可用的分布式系统设计等。
    - 大型互联网公司每天要面对海量的请求，都会考察分布式系统的架构和设计，如何构建高并发高可用的系统。另外因为用户基数比较大，一个细微的优化可能会给带来很大的收益，所以对一些技术栈的掌握要求都比较深入。比如对MySQL数据库，需要知道相关的配置和优化，业务上来以后如何分库分表，如何合理的配置缓存，一个经验丰富的服务端开发人员，也应该是一个称职的DBA。
    - 对常用的开发组件，比如中间件，RPC框架等都要有一定的了解，虽然工作中可能用不到我们自己造轮子，但是掌握原理才会得心应手。这部分知识主要靠工作积累，推荐《大型网站技术架构与Java中间件实践》，还有曾贤杰的《大型网站系统架构与实践》，里面对大型网站的演变，服务治理和中间件的使用做了很详细的阐述。
    - 作为业务开发人员，有必要了解压力测试相关的指标，比如QPS，用户平均等待时间等，可以帮助你更好的了解自己的系统。
-   软性指标
    - 快速学习，良好的沟通能力，以及对相关行业的了解。
    - 公司招聘会比较看重一个人的学习能力，是不是值得培养，很多公司校招的毕业生薪资会倒挂工作多年的老员工，也是这样。像沟通习惯，逻辑分析能力，这些都属于软实力，短时间内很难提高，需要长期的养成和持续不断的投入。好多公司还会看重所在行业，虽然是做业务，但是对产品和行业的了解也很重要。比如互联网金融类公司的岗位，如果有过支付和银行相关的系统开发经验肯定会有加分，这点和每个人的长期规划有关。


有了方向，接下来就是如何提高，说一些自己的感想。

很多时候，除非你的工作内容就是要应对高并发，海量用户等场景，否则通过加班或者说重复性的工作，其实很难有提高。技术人员最直接的提高方式，还是需要跳出来，在工作以外审视自己，比如广泛的阅读技术书籍，多去论坛和各路牛人交流，了解主流互联网公司的技术栈，有针对性的去学习和了解。同时也可以适当的了解一些产品或者设计的知识，以点带面，复合人才肯定更受欢迎，对待面试，要像和妹子约会一样，表现自己平常的一面就可以了。

代码改变世界，要早日成为明日大牛，攻城狮肩上的担子可是很重啊，共勉！



---
参考文献

1. [阿里、百度、搜狐、优土等互联网公司面试经验总结](http://www.yidianzixun.com/article/0DYI0TPA)

[p-tencent-sng]: /interview/2016-09-26/

[a-RPC]: /distributed/RPC/

